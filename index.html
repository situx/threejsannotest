<html>
<head>
<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
  crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/three/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three/examples/js/controls/TrackballControls.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three/examples/js/controls/OrbitControls.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three/examples/js/loaders/PLYLoader.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three/examples/js/loaders/GLTFLoader.js"></script>
<script src="https://cdn.jsdelivr.net/npm/threex.domevents@1.0.1/threex.domevents.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.9/dat.gui.min.js"></script>
<script>
var wktsampleannotations={"#9f51d1e2-c25e-403b-97fc-21f6294d9713":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"szu","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Charindex","value":"1","source":"http://purl.org/cuneiform/CharacterIndex"},{"type":"TextualBody","purpose":"Line","source":"http://purl.org/cuneiform/Line","value":"1"},{"type":"TextualBody","purpose":"Wordindex","value":"1","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"0","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((-13.969030221664632 0.6688565058891589 0.0,-8.138474795284985 5.168166905137209 0.0,-13.969030221664632 5.168166905137209 0.0,-13.969030221664632 0.6688565058891589 -4.37408447265625,-8.138474795284985 0.6688565058891589 -4.37408447265625,-8.138474795284985 5.168166905137209 -4.37408447265625,-13.969030221664632 5.168166905137209 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#9f51d1e2-c25e-403b-97fc-21f6294d9713","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#a214f1e0-0e2e-4f43-a0f4-373ae636e9d2":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"ba","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Charindex","value":"2","source":"http://purl.org/cuneiform/CharacterIndex"},{"type":"TextualBody","purpose":"Line","source":"http://purl.org/cuneiform/Line","value":"1"},{"type":"TextualBody","purpose":"Wordindex","value":"2","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"0","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((-6.377156766547834 0.18226127853760352 0.0,-1.3362306968015503 3.9521027001967797 0.0,-6.377156766547834 3.9521027001967797 0.0,-6.377156766547834 0.18226127853760352 -4.37408447265625,-1.3362306968015503 0.18226127853760352 -4.37408447265625,-1.3362306968015503 3.9521027001967797 -4.37408447265625,-6.377156766547834 3.9521027001967797 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#a214f1e0-0e2e-4f43-a0f4-373ae636e9d2","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#a846a1cc-0287-4e65-8e1d-16a313ead436":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"ti","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Charindex","value":"3","source":"http://purl.org/cuneiform/CharacterIndex"},{"type":"TextualBody","purpose":"Line","source":"http://purl.org/cuneiform/Line","value":"1"},{"type":"TextualBody","purpose":"Wordindex","value":"2","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"1","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((1.396776004039392 0.6078201707509848 0.0,12.14716688568964 4.560346734386224 0.0,1.396776004039392 4.560346734386224 0.0,1.396776004039392 0.6078201707509848 -4.37408447265625,12.14716688568964 0.6078201707509848 -4.37408447265625,12.14716688568964 4.560346734386224 -4.37408447265625,1.396776004039392 4.560346734386224 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#a846a1cc-0287-4e65-8e1d-16a313ead436","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#5eb6f348-a46a-4b8b-b266-cf50e6c0765d":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"iti","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Line","value":"2","source":"http://purl.org/cuneiform/Line"},{"type":"TextualBody","purpose":"Charindex","value":"1","source":"http://purl.org/cuneiform/CharacterIndex"},{"type":"TextualBody","purpose":"Wordindex","value":"1","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"0","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((-13.786970906194204 4.073751507034668 0.0,-7.895446778819812 10.701280230788084 0.0,-13.786970906194204 10.701280230788084 0.0,-13.786970906194204 4.073751507034668 -4.37408447265625,-7.895446778819812 4.073751507034668 -4.37408447265625,-7.895446778819812 10.701280230788084 -4.37408447265625,-13.786970906194204 10.701280230788084 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#5eb6f348-a46a-4b8b-b266-cf50e6c0765d","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#556a126d-3bcb-49d3-9a54-2e14fc8017a3":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"gar","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Line","source":"http://purl.org/cuneiform/Line","value":"2"},{"type":"TextualBody","purpose":"Charindex","source":"http://purl.org/cuneiform/Charindex","value":"4"},{"type":"TextualBody","purpose":"Wordindex","value":"2","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"2","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((3.947723389409905 4.681995541224112 0.0,8.077929488047147 10.883541509325687 0.0,3.947723389409905 10.883541509325687 0.0,3.947723389409905 4.681995541224112 -4.37408447265625,8.077929488047147 4.681995541224112 -4.37408447265625,8.077929488047147 10.883541509325687 -4.37408447265625,3.947723389409905 10.883541509325687 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#556a126d-3bcb-49d3-9a54-2e14fc8017a3","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#fe057c84-1415-40af-bc36-12fec9b82efb":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"ra","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Line","source":"http://purl.org/cuneiform/Line","value":"2"},{"type":"TextualBody","purpose":"Charindex","source":"http://purl.org/cuneiform/Charindex","value":"5"},{"type":"TextualBody","purpose":"Wordindex","value":"2","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"3","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((8.259988803517576 5.107554433437494 0.0,15.123201602995756 10.701280230788084 0.0,8.259988803517576 10.701280230788084 0.0,8.259988803517576 5.107554433437494 -4.37408447265625,15.123201602995756 5.107554433437494 -4.37408447265625,15.123201602995756 10.701280230788084 -4.37408447265625,8.259988803517576 10.701280230788084 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#fe057c84-1415-40af-bc36-12fec9b82efb","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#a05f6890-4c2a-4e89-8d47-a912aec217ad":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"u4","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Charindex","source":"http://purl.org/cuneiform/Charindex","value":"6"},{"type":"TextualBody","purpose":"Line","source":"http://purl.org/cuneiform/Line","value":"2"},{"type":"TextualBody","purpose":"Wordindex","value":"3","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"0","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((-6.620184783013007 10.883541509325687 0.0,-1.396776004039392 16.842213727189943 0.0,-6.620184783013007 16.842213727189943 0.0,-6.620184783013007 10.883541509325687 -4.37408447265625,-1.396776004039392 10.883541509325687 -4.37408447265625,-1.396776004039392 16.842213727189943 -4.37408447265625,-6.620184783013007 16.842213727189943 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#a05f6890-4c2a-4e89-8d47-a912aec217ad","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#96e3745a-5303-4bef-ace5-873eb6f1d29d":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"2(disz)","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Charindex","source":"http://purl.org/cuneiform/Charindex","value":"7"},{"type":"TextualBody","purpose":"Line","source":"http://purl.org/cuneiform/Line","value":"2"},{"type":"TextualBody","purpose":"Wordindex","value":"4","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"0","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((-0.6071466474060259 10.883541509325687 0.0,3.3405767420038757 15.504500715411627 0.0,-0.6071466474060259 15.504500715411627 0.0,-0.6071466474060259 10.883541509325687 -4.37408447265625,3.3405767420038757 10.883541509325687 -4.37408447265625,3.3405767420038757 15.504500715411627 -4.37408447265625,-0.6071466474060259 15.504500715411627 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#96e3745a-5303-4bef-ace5-873eb6f1d29d","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#faa79139-9dba-44d2-9041-c56a57265ab1":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"iti","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Charindex","value":"1","source":"http://purl.org/cuneiform/CharacterIndex"},{"type":"TextualBody","purpose":"Line","source":"http://purl.org/cuneiform/Line","value":"3"},{"type":"TextualBody","purpose":"Wordindex","value":"1","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"0","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((-12.632799524863081 19.94319864295996 0.0,-6.98472680771077 25.780222053986332 0.0,-12.632799524863081 25.780222053986332 0.0,-12.632799524863081 19.94319864295996 -4.37408447265625,-6.98472680771077 19.94319864295996 -4.37408447265625,-6.98472680771077 25.780222053986332 -4.37408447265625,-12.632799524863081 25.780222053986332 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#faa79139-9dba-44d2-9041-c56a57265ab1","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#4414cfa7-51a5-40df-a5d3-d81acf76d7e2":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"ne","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Line","value":"3","source":"http://purl.org/cuneiform/Line"},{"type":"TextualBody","purpose":"Charindex","value":"2","source":"http://purl.org/cuneiform/CharacterIndex"},{"type":"TextualBody","purpose":"Wordindex","value":"1","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"1","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((-6.680730090250847 20.06484744979785 0.0,5.10189477074103 25.597960775448723 0.0,-6.680730090250847 25.597960775448723 0.0,-6.680730090250847 20.06484744979785 -4.37408447265625,5.10189477074103 20.06484744979785 -4.37408447265625,5.10189477074103 25.597960775448723 -4.37408447265625,-6.680730090250847 25.597960775448723 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#4414cfa7-51a5-40df-a5d3-d81acf76d7e2","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#489cd821-5c57-40db-94d4-3619f68c96ab":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"ne","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Line","value":"3","source":"http://purl.org/cuneiform/Line"},{"type":"TextualBody","purpose":"Charindex","value":"3","source":"http://purl.org/cuneiform/CharacterIndex"},{"type":"TextualBody","purpose":"Wordindex","value":"1","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"2","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((4.61583873781068 20.186496256635742 0.0,12.632799524863081 25.65857324714844 0.0,4.61583873781068 25.65857324714844 0.0,4.61583873781068 20.186496256635742 -4.37408447265625,12.632799524863081 20.186496256635742 -4.37408447265625,12.632799524863081 25.65857324714844 -4.37408447265625,4.61583873781068 25.65857324714844 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#489cd821-5c57-40db-94d4-3619f68c96ab","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#e2b950b8-f6cb-443c-b834-58f1883b63cc":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"gar","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Charindex","value":"4","source":"http://purl.org/cuneiform/CharacterIndex"},{"type":"TextualBody","purpose":"Line","source":"http://purl.org/cuneiform/Line","value":"3"},{"type":"TextualBody","purpose":"Wordindex","value":"2","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"2","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((12.389771508397907 20.36875753517334 0.0,15.548288934931357 25.293626826634775 0.0,12.389771508397907 25.293626826634775 0.0,12.389771508397907 20.36875753517334 -4.37408447265625,15.548288934931357 20.36875753517334 -4.37408447265625,15.548288934931357 25.293626826634775 -4.37408447265625,12.389771508397907 25.293626826634775 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#e2b950b8-f6cb-443c-b834-58f1883b63cc","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#f88bd788-14dd-49e0-8e94-d8efecf598ed":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"gi4","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Line","value":"4","source":"http://purl.org/cuneiform/Line"},{"type":"TextualBody","purpose":"Charindex","value":"1","source":"http://purl.org/cuneiform/CharacterIndex"},{"type":"TextualBody","purpose":"Wordindex","value":"1","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"0","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((-13.240369566026017 25.65857324714844 0.0,-2.8545207090735296 31.070037765961427 0.0,-13.240369566026017 31.070037765961427 0.0,-13.240369566026017 25.65857324714844 -4.37408447265625,-2.8545207090735296 25.65857324714844 -4.37408447265625,-2.8545207090735296 31.070037765961427 -4.37408447265625,-13.240369566026017 31.070037765961427 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#f88bd788-14dd-49e0-8e94-d8efecf598ed","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#3a773118-49b2-4afe-8504-d42703e284bc":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"gi4","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Line","value":"4","source":"http://purl.org/cuneiform/Line"},{"type":"TextualBody","purpose":"Charindex","value":"2","source":"http://purl.org/cuneiform/CharacterIndex"},{"type":"TextualBody","purpose":"Wordindex","value":"2","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"0","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((-2.30791936890534 25.90187086082422 0.0,6.923758106716022 30.76612768058594 0.0,-2.30791936890534 30.76612768058594 0.0,-2.30791936890534 25.90187086082422 -4.37408447265625,6.923758106716022 25.90187086082422 -4.37408447265625,6.923758106716022 30.76612768058594 -4.37408447265625,-2.30791936890534 30.76612768058594 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#3a773118-49b2-4afe-8504-d42703e284bc","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#ad908358-7094-408c-82d0-1329ef4a0d05":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"dam","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Line","value":"4","source":"http://purl.org/cuneiform/Line"},{"type":"TextualBody","purpose":"Charindex","value":"3","source":"http://purl.org/cuneiform/CharacterIndex"},{"type":"TextualBody","purpose":"Wordindex","value":"3","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"0","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((6.863212799478184 24.746419127583504 0.0,14.758659578297994 29.97562236785889 0.0,6.863212799478184 29.97562236785889 0.0,6.863212799478184 24.746419127583504 -4.37408447265625,14.758659578297994 24.746419127583504 -4.37408447265625,14.758659578297994 29.97562236785889 -4.37408447265625,6.863212799478184 29.97562236785889 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#ad908358-7094-408c-82d0-1329ef4a0d05","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#e7e94497-0109-42f5-954f-2078dae8cdbd":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"mu","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Line","value":"5","source":"http://purl.org/cuneiform/Line"},{"type":"TextualBody","purpose":"Charindex","value":"1","source":"http://purl.org/cuneiform/CharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((-13.665456897961619 31.55663299331298 0.0,-6.741698791245595 35.08317680129638 0.0,-13.665456897961619 35.08317680129638 0.0,-13.665456897961619 31.55663299331298 -4.37408447265625,-6.741698791245595 31.55663299331298 -4.37408447265625,-6.741698791245595 35.08317680129638 -4.37408447265625,-13.665456897961619 35.08317680129638 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#e7e94497-0109-42f5-954f-2078dae8cdbd","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#1beb6352-6c09-4a58-911c-6edd7a9b2a63":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"bad3","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Line","value":"5","source":"http://purl.org/cuneiform/Line"},{"type":"TextualBody","purpose":"Charindex","value":"2","source":"http://purl.org/cuneiform/CharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((-6.741698791245595 31.191686572799313 0.0,3.462090750236463 35.143789272996095 0.0,-6.741698791245595 35.143789272996095 0.0,-6.741698791245595 31.191686572799313 -4.37408447265625,3.462090750236463 31.191686572799313 -4.37408447265625,3.462090750236463 35.143789272996095 -4.37408447265625,-6.741698791245595 35.143789272996095 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#1beb6352-6c09-4a58-911c-6edd7a9b2a63","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#e90e0a6f-54d8-4b72-8228-b4cad6b1743f":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"ma","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Line","value":"5","source":"http://purl.org/cuneiform/Line"},{"type":"TextualBody","purpose":"Charindex","value":"3","source":"http://purl.org/cuneiform/CharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((4.190751405875083 31.860543078688476 0.0,10.446394164190327 34.96152799445849 0.0,4.190751405875083 34.96152799445849 0.0,4.190751405875083 31.860543078688476 -4.37408447265625,10.446394164190327 31.860543078688476 -4.37408447265625,10.446394164190327 34.96152799445849 -4.37408447265625,4.190751405875083 34.96152799445849 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#e90e0a6f-54d8-4b72-8228-b4cad6b1743f","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#dce790ff-eb12-427f-8d41-9b05801943f5":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"bara2","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Line","source":"http://purl.org/cuneiform/Line","value":"2"},{"type":"TextualBody","purpose":"Charindex","source":"http://purl.org/cuneiform/Charindex","value":"2"},{"type":"TextualBody","purpose":"Wordindex","value":"2","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"0","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((-8.381502811750162 3.871144783451007 0.0,-1.6499654706703577 9.900602195538008 0.0,-8.381502811750162 9.900602195538008 0.0,-8.381502811750162 3.871144783451007 -4.37408447265625,-1.6499654706703577 3.871144783451007 -4.37408447265625,-1.6499654706703577 9.900602195538008 -4.37408447265625,-8.381502811750162 9.900602195538008 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#dce790ff-eb12-427f-8d41-9b05801943f5","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#44715ad7-82a3-41a3-8756-979acc1954a2":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"za3","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Column","source":"http://purl.org/cuneiform/Column","value":""},{"type":"TextualBody","purpose":"Charindex","source":"http://purl.org/cuneiform/Charindex","value":"3"},{"type":"TextualBody","purpose":"Line","source":"http://purl.org/cuneiform/Line","value":"2"},{"type":"TextualBody","purpose":"Wordindex","value":"2","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"1","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((-2.2571121180763853 3.2124610000848772 0.0,3.8160479310115285 9.090175301203361 0.0,-2.2571121180763853 9.090175301203361 0.0,-2.2571121180763853 3.2124610000848772 -4.37408447265625,3.8160479310115285 3.2124610000848772 -4.37408447265625,3.8160479310115285 9.090175301203361 -4.37408447265625,-2.2571121180763853 9.090175301203361 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#44715ad7-82a3-41a3-8756-979acc1954a2","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#ed814115-73f1-48ec-8986-848209fce8e7":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"ba","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Charindex","source":"http://purl.org/cuneiform/Charindex","value":"8"},{"type":"TextualBody","purpose":"Line","source":"http://purl.org/cuneiform/Line","value":"2"},{"type":"TextualBody","purpose":"Wordindex","value":"5","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"0","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((3.462090750236463 10.914059676894775 0.0,7.055433565114399 15.626149522249516 0.0,3.462090750236463 15.626149522249516 0.0,3.462090750236463 10.914059676894775 -4.37408447265625,7.055433565114399 10.914059676894775 -4.37408447265625,7.055433565114399 15.626149522249516 -4.37408447265625,3.462090750236463 15.626149522249516 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#ed814115-73f1-48ec-8986-848209fce8e7","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}},"#4fd8c351-aba7-4c5d-ba3d-a8bdd7ec0423":{"type":"Annotation","body":[{"type":"TextualBody","purpose":"Transliteration","value":"zal","source":"http://purl.org/cuneiform/Transliteration"},{"type":"TextualBody","value":"Character","purpose":"tagging","source":"http://purl.org/cuneiform/Character"},{"type":"TextualBody","purpose":"Charindex","source":"http://purl.org/cuneiform/Charindex","value":"9"},{"type":"TextualBody","purpose":"Line","source":"http://purl.org/cuneiform/Line","value":"2"},{"type":"TextualBody","purpose":"Wordindex","value":"5","source":"http://purl.org/cuneiform/WordIndex"},{"type":"TextualBody","purpose":"RelCharindex","value":"1","source":"http://purl.org/cuneiform/RelativeCharacterIndex"}],"target":{"source":"https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply","selector":{"type":"WKTSelector","value":"POLYGON Z((6.751860241411389 11.015363038686607 0.0,13.381783080833277 15.220936075082193 0.0,6.751860241411389 15.220936075082193 0.0,6.751860241411389 11.015363038686607 -4.37408447265625,13.381783080833277 11.015363038686607 -4.37408447265625,13.381783080833277 15.220936075082193 -4.37408447265625,6.751860241411389 15.220936075082193 -4.37408447265625))"},"rights":"https://creativecommons.org/licenses/by-sa/4.0/","dimensions":{"x":827,"y":832}},"@context":"http://www.w3.org/ns/anno.jsonld","id":"#4fd8c351-aba7-4c5d-ba3d-a8bdd7ec0423","rights":"https://creativecommons.org/publicdomain/zero/1.0/","creator":{"id":"https://orcid.org/0000-0002-9499-5840","type":"Person","name":"Timo Homburg","nickname":"situx"},"generator":{"id":"https://github.com/recogito/annotorious-openseadragon","type":"Software","name":"Annotorious-OpenSeadragon 1.5.6","homepage":"https://github.com/recogito/annotorious-openseadragon"}}}
var meshrefsampleannotations={"#9a51d1e2-c25e-403b-97fc-21f6294d9713": {
        "type": "Annotation",
        "body": [
            {
                "type": "TextualBody",
                "purpose": "Transliteration",
                "value": "szu",
                "source": "http://purl.org/cuneiform/Transliteration"
            },
            {
                "type": "TextualBody",
                "value": "Character",
                "purpose": "tagging",
                "source": "http://purl.org/cuneiform/Character"
            },
            {
                "type": "TextualBody",
                "purpose": "Charindex",
                "value": "1",
                "source": "http://purl.org/cuneiform/CharacterIndex"
            },
            {
                "type": "TextualBody",
                "purpose": "Line",
                "source": "http://purl.org/cuneiform/Line",
                "value": "1"
            },
            {
                "type": "TextualBody",
                "purpose": "Wordindex",
                "value": "1",
                "source": "http://purl.org/cuneiform/WordIndex"
            },
            {
                "type": "TextualBody",
                "purpose": "RelCharindex",
                "value": "0",
                "source": "http://purl.org/cuneiform/RelativeCharacterIndex"
            }
        ],
        "target": {
            "source": "https://heidicon.ub.uni-heidelberg.de/eas/partitions/1/0/575000/575702/e3e95552fd0da2aea583c919e60a3b6876f01950/application/x-ply/HS_1004_HeiCuBeDa_GigaMesh.ply",
            "selector": {
                "type": "MeshRefSelector",
                "value": "[v[n=10]]"
            },
            "rights": "https://creativecommons.org/licenses/by-sa/4.0/",
            "dimensions": {
                "x": 827,
                "y": 832
            }
        }}
</script>
</head>
  <body>
    <h1>ThreeJS Annotation Test with glTF</h1>
	<canvas id="number" width="64" height="64" style="display:none"></canvas>
   <span id="annocontent"></span>
   <div style="display: flex;">
   <div id="threejs" class="threejscontainer" style="flex: 1;max-width:100%;max-height:90%"></div>
   <div id="threejsnav" style="flex: 1;"></div> 
   </div>
  </body>
</html>
<script>
//style="max-width:485px;max-height:500px"
$(document).ready(function(){initThreeJS('threejs',parseWKTStringToJSON("POLYGON Z ((11.914378496415974 14.386346805085239 4.228275299072266, 7.128430444339905 14.260676340056541 4.228275299072266, 6.809366923512812 19.915864141095675 4.228275299072266, 11.488962055423293 19.915864141095675 4.228275299072266, 11.914378496415974 14.386346805085239 6.769923210144043, 7.128430444339905 14.260676340056541 6.769923210144043, 6.809366923512812 19.915864141095675 6.769923210144043, 11.488962055423293 19.915864141095675 6.769923210144043, 11.914378496415974 14.386346805085239 4.228275299072266))"),["HS1185.gltf"])})</script> 

<script>
const canvas = document.getElementById('number');
const ctx = canvas.getContext('2d');
const x = 32;
const y = 32;
const radius = 30;
const startAngle = 0;
const endAngle = Math.PI * 2;

ctx.fillStyle = 'rgb(0, 0, 0)';
ctx.beginPath();
ctx.arc(x, y, radius, startAngle, endAngle);
ctx.fill();

ctx.strokeStyle = 'rgb(255, 255, 255)';
ctx.lineWidth = 3;
ctx.beginPath();
ctx.arc(x, y, radius, startAngle, endAngle);
ctx.stroke();

ctx.fillStyle = 'rgb(255, 255, 255)';
ctx.font = '32px sans-serif';
ctx.textAlign = 'center';
ctx.textBaseline = 'middle';
ctx.fillText('1', x, y);

function parseWebAnnotations(webannotations,annotations,mesh){
	for(anno in webannotations){
		if("target" in webannotations[anno]){
			if("selector" in webannotations[anno]["target"] && webannotations[anno]["target"]["selector"]["type"]=="WktSelector"){
				if("POINT" in webannotations[anno]["target"]["selector"]["value"]){
					addPointMarker(parseWKTStringToJSON(webannotations[anno]["target"]["selector"]["value"])[0],annotations)
				}else{
					prepareAnnotationFromJSON(parseWKTStringToJSON(webannotations[anno]["target"]["selector"]["value"]),annotations)
				}			
			}else if("selector" in webannotations[anno]["target"] && webannotations[anno]["target"]["selector"]["type"]=="MeshRefSelector"){
				theindex=parseMeshRefToIndex(webannotations[anno]["target"]["selector"]["value"])
				if(theindex!=null){
					theindex=webannotations[anno]["target"]["selector"]["value"]
					lookeduppoint=lookUpPointFromIndex(mesh,theindex)
					if(lookeduppoint!=null){
						addPointMarker(lookeduppoint,annotations)
					}
				}
			}
		}
	}
}

function parseMeshRefToIndex(meshrefString){
	meshrefString=meshrefString.replaceAll("[","").replaceAll("]","")
	if("n=" in meshrefString){
		return meshrefString.replace("n=","")
	}
	return null
}

function lookUpPointFromIndex(mesh,theindex){
	indexlength=mesh["geometry"]["attributes"]["position"]["array"].length/3
	if(theindex<indexlength){
		return {"x":mesh["geometry"]["attributes"]["position"]["array"][theindex*3],"y":mesh["geometry"]["attributes"]["position"]["array"][(theindex*3)+1],"z":mesh["geometry"]["attributes"]["position"]["array"][(theindex*3)+2]}
	}
	return null
}

function parseWKTStringToJSON(wktstring){
    wktstring=wktstring.substring(wktstring.lastIndexOf('(')+1,wktstring.lastIndexOf(')')-1)
    resjson=[]
    for(coordset of wktstring.split(",")){
        curobject={}
        coords=coordset.trim().split(" ")
        console.log(coordset)
        console.log(coords)
        if(coords.length==3){
            resjson.push({"x":parseFloat(coords[0]),"y":parseFloat(coords[1]),"z":parseFloat(coords[2])})
        }else{
            resjson.push({"x":parseFloat(coords[0]),"y":parseFloat(coords[1])})
        }
    }
    console.log(resjson)
    return resjson
}

let camera, scene, renderer,controls;


function addPointMarker(position,annotations){
	const numberTexture = new THREE.CanvasTexture(
		 document.querySelector('#number')
	);

	const spriteMaterial = new THREE.SpriteMaterial({
		map: numberTexture,
		alphaTest: 0.5,
		transparent: true,
		depthTest: false,
		depthWrite: false
	});

	sprite = new THREE.Sprite(spriteMaterial);
	sprite.position.set(position["x"], position["y"], position["z"]);
	sprite.scale.set(1, 1, 1);
	annotations.add(sprite)
	return annotations
}

function prepareAnnotationFromJSON(verts,annotations){
	var svgShape = new THREE.Shape();
    first=true
    for(vert of verts){
        if(first){
            svgShape.moveTo(vert["x"], vert["y"]);
           first=false
        }else{
            svgShape.lineTo(vert["x"], vert["y"]);
        }
        vertarray.push(vert["x"])
        vertarray.push(vert["y"])
        vertarray.push(vert["z"])
        if(vert["z"]>maxz){
            maxz=vert["z"]
        }
        if(vert["z"]<minz){
            minz=vert["z"]
        }
        if(vert["y"]>maxy){
            maxy=vert["y"]
        }
        if(vert["y"]<miny){
            miny=vert["y"]
        }
        if(vert["x"]>maxx){
            maxy=vert["x"]
        }
        if(vert["x"]<minx){
            miny=vert["x"]
        }
    }
	var extrudedGeometry = new THREE.ExtrudeGeometry(svgShape, {depth: maxz-minz, bevelEnabled: false});
    extrudedGeometry.computeBoundingBox()
    centervec=new THREE.Vector3()
    extrudedGeometry.boundingBox.getCenter(centervec)
    console.log(centervec)
    const material = new THREE.MeshBasicMaterial( { color: 0xFFFFFF, wireframe:true } );
    const mesh = new THREE.Mesh( extrudedGeometry, material );
	annotations.add(mesh)
	return annotations
}

function initThreeJS(domelement,verts,meshurls) {
    scene = new THREE.Scene();
    minz=Number.MAX_VALUE
    maxz=Number.MIN_VALUE
    miny=Number.MAX_VALUE
    maxy=Number.MIN_VALUE
    minx=Number.MAX_VALUE
    maxx=Number.MIN_VALUE
	vertarray=[]
	annotations=new THREE.Group();
	objects=new THREE.Group();
    console.log(verts)
    first=true
	annotations=prepareAnnotationFromJSON(verts,annotations)  
	const gui = new dat.GUI({autoPlace: true})
	gui.domElement.id="gui"
	const geometryFolder = gui.addFolder("Mesh");
	geometryFolder.open();
	const lightingFolder = geometryFolder.addFolder("Lighting");
	const geometryF = geometryFolder.addFolder("Geometry");
	geometryF.open();

	box=null
	if(meshurls.length>0){
        var loader = new THREE.GLTFLoader();
        loader.load(meshurls[0], function ( gltf )
		{
			box = gltf.scene;  // sword 3D object is loaded
			//sword.scale.set(200, 200, 200);
			box.position.x = 0;
			box.position.y = 0;
			console.log(box)
			//console.log(gltf)
			if("annotations" in box){
				console.log(box["annotations"])
			}

			geometryF.close();
			objects.add(box)
			scene.add(objects);
			const rotationFolder = geometryF.addFolder("Rotation");
			rotationFolder.add(objects.rotation, 'x', 0, Math.PI).name("X").onChange(
			function(){
				yourVar = this.getValue();
				scene.traverse(function(obj){
					if(obj.type === 'Mesh'){
						obj.rotation.x = yourVar;
					}});
			});
			rotationFolder.add(objects.rotation, 'y', 0, Math.PI).name("Y").onChange(
			function(){
				yourVar = this.getValue();
				scene.traverse(function(obj){
					if(obj.type === 'Mesh'){
						obj.rotation.y = yourVar;
					}});
			});
			rotationFolder.add(objects.rotation, 'z', 0, Math.PI).name("Z").onChange(
			function(){
				yourVar = this.getValue();
				scene.traverse(function(obj){
					if(obj.type === 'Mesh'){
						obj.rotation.z = yourVar;
					}});
			});

			const scaleFolder = geometryF.addFolder("Scale");
			scaleFolder.add(objects.scale, 'x', 0, 2).name("X").onChange(
			function(){
				yourVar = this.getValue();
				scene.traverse(function(obj){
					if(obj.type === 'Mesh'){
						obj.scale.x = yourVar;
					}});
			});
			scaleFolder.add(objects.scale, 'y', 0, 2).name("Y").onChange(
			function(){
				yourVar = this.getValue();
				scene.traverse(function(obj){
					if(obj.type === 'Mesh'){
						obj.scale.y = yourVar;
					}});
			});
			scaleFolder.add(objects.scale, 'z', 0, 2).name("Z").onChange(
			function(){
				yourVar = this.getValue();
				scene.traverse(function(obj){
					if(obj.type === 'Mesh'){
						obj.scale.z = yourVar;
					}});
			});
		});
    }
	var raycaster = new THREE.Raycaster();
    camera = new THREE.PerspectiveCamera(90,window.innerWidth / window.innerHeight, 0.1, 150 );
    scene.add(new THREE.AmbientLight(0x222222));
    var light = new THREE.DirectionalLight(0xffffff, 1);
    light.position.set(20, 20, 0);
    scene.add(light);
    lightingFolder.add(light.position, "x").min(-5).max(5).step(0.01).name("X Position")
	lightingFolder.add(light.position, "y").min(-5).max(5).step(0.01).name("Y Position")
	lightingFolder.add(light.position, "z").min(-5).max(5).step(0.01).name("Z Position")
	var axesHelper = new THREE.AxesHelper( Math.max(maxx, maxy, maxz)*4 );
    scene.add( axesHelper );
    console.log("Depth: "+(maxz-minz))
	scene.add(annotations)
	annotations=addPointMarker({"x":0.5,"y":0.5,"z":0.5},annotations)
    renderer = new THREE.WebGLRenderer( { antialias: false } );
	renderer.setPixelRatio( window.devicePixelRatio );
    renderer.setSize(0.8*window.innerWidth, 0.8*window.innerHeight);
    document.getElementById(domelement).appendChild( renderer.domElement );
	document.getElementById("threejsnav").appendChild( gui.domElement );
	document.getElementById(domelement).addEventListener('click', function(event){
	  var bounds = document.getElementById(domelement).getBoundingClientRect()
	  console.log(bounds)
	  mouse={}
	  mouse.x = ( (event.clientX - bounds.left) / document.getElementById(domelement).clientWidth ) * 2 - 1;
	  mouse.y = - ( (event.clientY - bounds.top) / document.getElementById(domelement).clientHeight ) * 2 + 1;
	  raycaster.setFromCamera( mouse, camera );
	  var intersects = raycaster.intersectObjects(scene.children, true);
	  if (intersects.length > 0) {
	     console.log(mesh)
		 console.log(scene.children)
		 document.getElementById("annocontent").innerHTML="Clicked on point in annotation: "+mouse.x+" "+mouse.y
		 console.log("INTERSECTIONNNNNN")
	  }
	}, false)
	controls = new THREE.OrbitControls( camera, renderer.domElement );
    controls.target.set( centervec.x,centervec.y,centervec.z );
    camera.position.x= centervec.x
    camera.position.y= centervec.y
    camera.position.z = centervec.z+30;
    controls.maxDistance= Math.max(maxx, maxy, maxz)*5
    controls.update();
	const updateCamera = () => {
		camera.updateProjectionMatrix();
	}
	const cameraFolder = geometryFolder.addFolder("Camera");
	cameraFolder.add (camera, 'fov', 1, 180).name('Zoom').onChange(updateCamera);
	gui.add(objects, 'visible').name('Meshes')
    gui.add(annotations, 'visible').name('Annotations')
	animate()
}

function resizeCanvasToDisplaySize() {
  const canvas = renderer.domElement;
  // look up the size the canvas is being displayed
  const width = canvas.clientWidth;
  const height = canvas.clientHeight;

  // adjust displayBuffer size to match
  if (canvas.width !== width || canvas.height !== height) {
    // you must pass false here or three.js sadly fights the browser
    renderer.setSize(width, height, false);
    camera.aspect = width / height;
    camera.updateProjectionMatrix();

    // update any render target sizes here
  }
}

function animate() {
	resizeCanvasToDisplaySize();
    requestAnimationFrame( animate );
    controls.update();
    renderer.render( scene, camera );
}</script>
